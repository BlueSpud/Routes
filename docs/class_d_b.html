<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hyperloop Routes: DB Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hyperloop Routes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_d_b-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DB Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="db_8h_source.html">db.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_d_b_1_1_entry.html">Entry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a99412dc1f6eca2105d49aafb76b9a39e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#a99412dc1f6eca2105d49aafb76b9a39e">build</a> ()</td></tr>
<tr class="separator:a99412dc1f6eca2105d49aafb76b9a39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c2b5f3de995986c1d167f13e5ce63e"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#a73c2b5f3de995986c1d167f13e5ce63e">getRequiredDatasets</a> (glm::vec2 start, glm::vec2 dest)</td></tr>
<tr class="separator:a73c2b5f3de995986c1d167f13e5ce63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afc9daf01ae74ab20489de0a81b3386"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#a8afc9daf01ae74ab20489de0a81b3386">load</a> ()</td></tr>
<tr class="separator:a8afc9daf01ae74ab20489de0a81b3386"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aa3258ba73b6956fc931c3e0bf43406a3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#aa3258ba73b6956fc931c3e0bf43406a3">lineIntersectsDatSet</a> (int index, const glm::vec3 &amp;start, const glm::vec3 &amp;direction)</td></tr>
<tr class="separator:aa3258ba73b6956fc931c3e0bf43406a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2275e48ee44bfb393a43b92a8dd7d5c4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#a2275e48ee44bfb393a43b92a8dd7d5c4">datasetContainsRay</a> (int index, const glm::vec3 &amp;start, const glm::vec3 &amp;dest)</td></tr>
<tr class="separator:a2275e48ee44bfb393a43b92a8dd7d5c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a5d5f71f7ad9ad6868c40e5f9275ba0d8"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="struct_d_b_1_1_entry.html">Entry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_b.html#a5d5f71f7ad9ad6868c40e5f9275ba0d8">_entries</a></td></tr>
<tr class="separator:a5d5f71f7ad9ad6868c40e5f9275ba0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class responsible for managing the data database. The database is a simple .csv file that contains the origin and size in degrees of each .img file in the data directory. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a99412dc1f6eca2105d49aafb76b9a39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99412dc1f6eca2105d49aafb76b9a39e">&#9670;&nbsp;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DB::build </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Builds the database from scratch. This can be a slow process because every file needs to be opened. </p>

</div>
</div>
<a id="a2275e48ee44bfb393a43b92a8dd7d5c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2275e48ee44bfb393a43b92a8dd7d5c4">&#9670;&nbsp;</a></span>datasetContainsRay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DB::datasetContainsRay </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const glm::vec3 &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const glm::vec3 &amp;&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This checks if a dataset contains the entire ray. We do this because it is possible for other datasets to intersect the ray but don't need to be stitched because the ray will fit into only one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the dataset to check against</td></tr>
    <tr><td class="paramname">start</td><td>The starting position in latitude longitude</td></tr>
    <tr><td class="paramname">dest</td><td>The ending position in latitude longitude</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of the hit detection; true if the ray intersects, false if it does not. </dd></dl>

</div>
</div>
<a id="a73c2b5f3de995986c1d167f13e5ce63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c2b5f3de995986c1d167f13e5ce63e">&#9670;&nbsp;</a></span>getRequiredDatasets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; DB::getRequiredDatasets </td>
          <td>(</td>
          <td class="paramtype">glm::vec2&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">glm::vec2&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function computes the datasets that are required to calculate a route from one point to another. We create a oriented bounding box that is a degree wide and check which datasets intersect with it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>The starting position in longitude latitude of the path.</td></tr>
    <tr><td class="paramname">dest</td><td>The ending position in longitude latitude of the path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>All of the datasets that are required to calculate a path from the start to the destination. </dd></dl>

</div>
</div>
<a id="aa3258ba73b6956fc931c3e0bf43406a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3258ba73b6956fc931c3e0bf43406a3">&#9670;&nbsp;</a></span>lineIntersectsDatSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DB::lineIntersectsDatSet </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const glm::vec3 &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const glm::vec3 &amp;&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines if a ray with a given start and direction intersects the entry at index.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the dataset to check against</td></tr>
    <tr><td class="paramname">start</td><td>The starting position in latitude longitude</td></tr>
    <tr><td class="paramname">direction</td><td>The direction in degrees</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The result of the hit detection; true if the ray intersects, false if it does not. </dd></dl>

</div>
</div>
<a id="a8afc9daf01ae74ab20489de0a81b3386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8afc9daf01ae74ab20489de0a81b3386">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool DB::load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Loads the database from the disk. If it cannot be loaded, the program will exit </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5d5f71f7ad9ad6868c40e5f9275ba0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d5f71f7ad9ad6868c40e5f9275ba0d8">&#9670;&nbsp;</a></span>_entries</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_d_b_1_1_entry.html">DB::Entry</a> &gt; DB::_entries</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>All of the entries that were in the database file </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/routes-lib/db/<a class="el" href="db_8h_source.html">db.h</a></li>
<li>src/routes-lib/db/<a class="el" href="db_8cpp.html">db.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
