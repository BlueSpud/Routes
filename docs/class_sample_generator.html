<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hyperloop Routes: SampleGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hyperloop Routes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_sample_generator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SampleGenerator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="normal__gen_8h_source.html">normal_gen.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa909346dd3f56ee29b053804789da0ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#aa909346dd3f56ee29b053804789da0ac">SampleGenerator</a> (int length, int retainer)</td></tr>
<tr class="separator:aa909346dd3f56ee29b053804789da0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb96d63cbab9c77763ffd1fe5edbf0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a7cb96d63cbab9c77763ffd1fe5edbf0d">~SampleGenerator</a> ()</td></tr>
<tr class="separator:a7cb96d63cbab9c77763ffd1fe5edbf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2014d6dab0da44681418fb59c52fc3d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a2014d6dab0da44681418fb59c52fc3d7">getSample</a> (Eigen::VectorXf &amp;to_place)</td></tr>
<tr class="separator:a2014d6dab0da44681418fb59c52fc3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9aa8b4cd54d59f4189b5541c02ef334a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a9aa8b4cd54d59f4189b5541c02ef334a">generateSamples</a> ()</td></tr>
<tr class="separator:a9aa8b4cd54d59f4189b5541c02ef334a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a366b3080c3aa4520fba343caa36105d4"><td class="memItemLeft" align="right" valign="top">boost::lockfree::spsc_queue&lt; Eigen::VectorXf &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a366b3080c3aa4520fba343caa36105d4">_queue</a></td></tr>
<tr class="separator:a366b3080c3aa4520fba343caa36105d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164d688f7c648db090db61e96e8aac31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a164d688f7c648db090db61e96e8aac31">_length</a></td></tr>
<tr class="separator:a164d688f7c648db090db61e96e8aac31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5f31572a2141ecdb66d9596e382d20"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a5b5f31572a2141ecdb66d9596e382d20">_should_gen_samples</a> = true</td></tr>
<tr class="separator:a5b5f31572a2141ecdb66d9596e382d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3836bbedc9fc4505c705ebc18ce720ae"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a3836bbedc9fc4505c705ebc18ce720ae">_sample_thread</a></td></tr>
<tr class="separator:a3836bbedc9fc4505c705ebc18ce720ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aad649549054114b8ebcec949de2ae"><td class="memItemLeft" align="right" valign="top">std::mt19937&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#aa3aad649549054114b8ebcec949de2ae">_twister</a></td></tr>
<tr class="separator:aa3aad649549054114b8ebcec949de2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f21650d5aa0c7feff549d9f66bf53a"><td class="memItemLeft" align="right" valign="top">std::normal_distribution&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sample_generator.html#a15f21650d5aa0c7feff549d9f66bf53a">_standard_distro</a></td></tr>
<tr class="separator:a15f21650d5aa0c7feff549d9f66bf53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Because sampling from a multivariate normal distribution is so slow and all require samples from the standard normal distribution, we can pull the standard random samples from another thread so they are always ready. This class will store N random samples of the desired length from the standard normal distribution.</p>
<p>It is assumed that there will only be a single reader asking for samples. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa909346dd3f56ee29b053804789da0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa909346dd3f56ee29b053804789da0ac">&#9670;&nbsp;</a></span>SampleGenerator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SampleGenerator::SampleGenerator </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retainer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new sample generator and launches the thread for it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">length</td><td>The number of components each sample should have.</td></tr>
    <tr><td class="paramname">retainer</td><td>The number of samples that should be retained at any time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7cb96d63cbab9c77763ffd1fe5edbf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb96d63cbab9c77763ffd1fe5edbf0d">&#9670;&nbsp;</a></span>~SampleGenerator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SampleGenerator::~SampleGenerator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ensures that the samples are no longer generated when this is destroyed by stopping the thread </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9aa8b4cd54d59f4189b5541c02ef334a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aa8b4cd54d59f4189b5541c02ef334a">&#9670;&nbsp;</a></span>generateSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SampleGenerator::generateSamples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2014d6dab0da44681418fb59c52fc3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2014d6dab0da44681418fb59c52fc3d7">&#9670;&nbsp;</a></span>getSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SampleGenerator::getSample </td>
          <td>(</td>
          <td class="paramtype">Eigen::VectorXf &amp;&#160;</td>
          <td class="paramname"><em>to_place</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies a sample that has already been generated to the destination vector. It is assumed that the destination is the same length as _length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_place</td><td>The reference to the vector that should be populated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a164d688f7c648db090db61e96e8aac31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164d688f7c648db090db61e96e8aac31">&#9670;&nbsp;</a></span>_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SampleGenerator::_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of components each sample should have. </p>

</div>
</div>
<a id="a366b3080c3aa4520fba343caa36105d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a366b3080c3aa4520fba343caa36105d4">&#9670;&nbsp;</a></span>_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::lockfree::spsc_queue&lt;Eigen::VectorXf&gt;* SampleGenerator::_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The queue that the samples are placed into. We use the boost lockfree spsc_queue because it is FIFO for a single reader and writer. </p>

</div>
</div>
<a id="a3836bbedc9fc4505c705ebc18ce720ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3836bbedc9fc4505c705ebc18ce720ae">&#9670;&nbsp;</a></span>_sample_thread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread SampleGenerator::_sample_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The thread that sampling is performed on </p>

</div>
</div>
<a id="a5b5f31572a2141ecdb66d9596e382d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5f31572a2141ecdb66d9596e382d20">&#9670;&nbsp;</a></span>_should_gen_samples</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; SampleGenerator::_should_gen_samples = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Whether or not samples should still be generated on the thread </p>

</div>
</div>
<a id="a15f21650d5aa0c7feff549d9f66bf53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f21650d5aa0c7feff549d9f66bf53a">&#9670;&nbsp;</a></span>_standard_distro</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::normal_distribution&lt;float&gt; SampleGenerator::_standard_distro</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The normal distribution that we sample from, AKA the standard normal distribution. This is by definition <a class="el" href="test__multinormal_8cpp.html#a0240ac851181b84ac374872dc5434ee4">N(0, 1)</a> </p>

</div>
</div>
<a id="aa3aad649549054114b8ebcec949de2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3aad649549054114b8ebcec949de2ae">&#9670;&nbsp;</a></span>_twister</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mt19937 SampleGenerator::_twister</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A Mersenne Twister object (a pseudorandom generator) that we pull the samples from. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/routes-lib/normal/<a class="el" href="normal__gen_8h_source.html">normal_gen.h</a></li>
<li>src/routes-lib/normal/<a class="el" href="normal__gen_8cpp.html">normal_gen.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
